<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>4.天氣案例_watch_shortcut</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>

<body>
    <div id="root">
        <h2>It's {{info}} today.</h2>
        <button @click="isHot = !isHot">switch</button>

    </div>
    <script type="text/javascript">
        Vue.config.productionTip = false

        const vm = new Vue({
            el: '#root',
            data: {
                isHot: true,
            },
            computed: {
                info() {
                    return this.isHot ? 'hot' : 'cold'
                }
            },
            methods: {
                changeWeather() {
                    this.isHot = !this.isHot
                }
            },
            watch: {
                // isHot:{
                //     immediate:true, 
                //     handler(newValue, oldValue){
                //         console.log('changed',newValue, oldValue);
                //     }
                // },
                // isHot(newValue, oldValue) {
                //     console.log('changed', newValue, oldValue);
                // }
            }
        })

        //正常寫法
        // vm.$watch('isHot', {
        //     immediate: true,
        //     deep: true,
        //     handler(newValue, oldValue) {
        //         console.log('changed', newValue, oldValue);
        //     }
        // })

        //簡寫 (不需配置immediate及deep 才可簡寫)
        vm.$watch('isHot', function (newValue, oldValue) {
            console.log('changed', newValue, oldValue);
        })
    </script>
</body>

</html>